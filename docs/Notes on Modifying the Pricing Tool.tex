\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[T5]{fontenc} % Recommended for Vietnamese language support
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{enumitem}
\usepackage{amsmath}

\geometry{a4paper, margin=1in}

\title{Notes on Modifying the Pricing Tool (Note chỉnh sửa Tool tính giá)}
\date{}
\author{}

\begin{document}

\maketitle

\section{Criteria and Priorities (Tiêu chí và Ưu tiên)}
% Derived from Source 1
\begin{table}[h]
    \centering
    \renewcommand{\arraystretch}{1.3}
    \begin{tabularx}{\textwidth}{|l|X|X|X|}
    \hline
    \textbf{Tiêu chí (Criteria)} & \textbf{Ưu tiên 1 (Priority 1)} & \textbf{Ưu tiên 2 (Priority 2)} & \textbf{Ưu tiên 3 (Priority 3)} \\
    \hline
    \textbf{1. Loại đá} & Đúng màu đá & Cùng chủng loại & Tất cả loại đá \\
    \hline
    \textbf{2. Kích thước} & & & \\
    \hspace{3mm} Cao (Height) & $\pm 0$ cm & $\pm 1$ cm & $\pm 5$ cm \\
    \hspace{3mm} Rộng (Width) & $\pm 0$ cm & $\pm 5$ cm & $\pm 20$ cm \\
    \hspace{3mm} Dài (Length) & $\pm 0$ cm & $\pm 10$ cm & $\pm 30$ cm (or no limit checkbox) \\
    \hline
    \textbf{3. Gia công} & Đúng loại gia công & Gia công Máy/Tay (See Grouping Table) & Tất cả các loại gia công \\
    \hline
    \textbf{4. Thị Trường} & Đúng nước (using Billing Address) & Đúng nhóm KH & Tất cả các thị trường \\
    \hline
    \end{tabularx}
    \caption{Priority Logic Table}
\end{table}

\section{Mapping Table (Bảng Mapping)}
% Derived from Source 2 and 3
\begin{longtable}{|p{3cm}|p{2cm}|p{3.5cm}|p{3.5cm}|p{3cm}|}
\hline
\textbf{ỨNG DỤNG} & \textbf{Code} & \textbf{Name (English)} & \textbf{Name (Vietnamese)} & \textbf{Notes} \\
\hline
\endfirsthead
\hline
\textbf{ỨNG DỤNG} & \textbf{Code} & \textbf{Name (English)} & \textbf{Name (Vietnamese)} & \textbf{Notes} \\
\hline
\endhead
CUBE & 1.1 & Cubes / Cobbles & Cubic (Đá vuông) & \\
\hline
PAVING & 1.3 & Paving stone / Paving slab & Đá lát ngoài trời & \\
\hline
WALL\_STONE & 2.1 & Wall stone / Wall brick & Đá xây tường rào & \\
\hline
WALL\_COVERING & 2.2 & Wall covering / wall top & Đá ốp tường rào & \\
\hline
ROCKFACE\_WALLING & 2.3 & Rockface Wailing & Đá mặt lồi ốp tường & \\
\hline
PALISADE & 3.1 & Palisades & Đá cây & \\
\hline
KERB & 3.2 & Border / Kerbs & Đá bó vỉa hè loại thẳng & \\
\hline
CORNER & 3.3 & Corner & Đá bó vỉa hè, loại góc hoặc cong & \\
\hline
BLOCK\_STEP & 4.1 & Stair / Step & Đá bậc thang nguyên khối & Maps to 4.1 (Monolithic/Solid Step) cause of the "Block" prefix \\
\hline
STEP & 4.1 and 4.2 & Step & 4.1: Đá bậc thang nguyên khối \newline 4.2: Đá ốp bậc thang & Multi-Item Mapping: uses "Step" for both 4.1 (Solid Step/Stair) and 4.2 (Cladding Step) \\
\hline
BLOCK & 5.1 & Block & Đá khối & \\
\hline
POOL\_SURROUNDING & 6.1 & Pool surrounding & Đá ghép hồ bơi & \\
\hline
WINDOWN\_SILL & 6.2 & Window sill & Đá bệ cửa sổ, gờ tường & \\
\hline
TILE & 7.1, 7.2, 7.3 & Tile / Paver & Đá lát, cắt quy cách & \\
\hline
SKIRTINGS & 8.1 & Skirtings & Đá len chân tường & \\
\hline
SLAB & 9.1 & Slab & Đá slab kích thước khổ lớn & \\
\hline
CRAZY & 1.4 & Crazy Paving & & \\
\hline
ALL & & & & \\
\hline
\end{longtable}

\section{Grouping Table (Cách Gia Công)}
% Derived from Source 4 and 5
\begin{itemize}
    \item \textbf{GIA CÔNG TAY:} Gồm chẻ tay tự nhiên, tách lồi, da đá tự nhiên.
    \item \textbf{GIA CÔNG MÁY + TAY:} Gồm cưa, cưa lột tay, tẩy, mài cát, quay mẻ, giả cổ tay.
    \item \textbf{GIA CÔNG MÁY:} Gồm đốt chải, đốt xịt, giả cổ rung, mài giấy, phun cát, băm.
    \item \textbf{GIA CÔNG MÁY CAO CẤP:} Gồm hone, bóng, chải.
\end{itemize}

\section{Application Reordering (Sắp xếp lại thứ tự)}
% Derived from Sources 8-16
Please reorder the UI fields as follows:
\begin{enumerate}
    \item Màu đá (Color)
    \item Kích thước (Dimensions)
    \item Gia công chính (Main Processing)
    \item Khu vực (Region)
    \item Ứng dụng (Application)
    \item Đơn vị tính (Unit)
    \item Phân loại theo khách hàng (Customer Classification)
    \item Mức độ ưu tiên (Priority Level)
\end{enumerate}

\section{Functional Requirements and Notes}
% Derived from Sources 6, 7, 17-20

\begin{description}
    \item[UI Layout:] Move the expanders/explanations to the bottom of the page to keep the app interface clean.
    
    \item[Record Selection:] Add a checkbox column next to each record. Users must be able to select specific products (minimum 3 records) to serve as the basis for price prediction.
    
    \item[Price Adjustment Logic:] 
    \begin{itemize}
        \item Add functionality to adjust prices ($\pm$) based on Customer/Region (Customer Classification) and Year.
        \item Allow input for percentage increase per year (e.g., usually +3\% to +5\% due to material and labor cost increases).
        \item Logic: Use the nearest available prices, adjusted by the yearly increase percentage.
    \end{itemize}
    
    \item[Reporting/Export:] 
    \begin{itemize}
        \item Export a file (PDF) to save the calculation rules.
        \item The report must include: Selected options, Data/Records used for prediction, Step-by-step formula explanation, DateTime of calculation.
    \end{itemize}
\end{description}

\end{document}